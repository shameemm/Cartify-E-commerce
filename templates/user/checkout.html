{% extends 'user/base.html'%} {% block content%}


<div class = "d -flex container">
    <div class="row my-5 ">
        
        <div class="col-md-9">
            <div class="card ">
                <div class="card-header">
                    <h4>Checkout</h4>
                </div>
                
                <div class="card-body">
                    <h5>Select Shipping Address</h5>
                    <form action = "checkout" method="POST">
                        {% csrf_token %}
                        {% for address in addresses %}
                        <input type="radio" name="address_id" value="{{address.id}}" checked> <label>
                            <div class="card col-md-6" style="width: 18rem;">
                            <div class="card-body">
                              <h5 class="card-title">{{address.name}}</h5>
                              <h6 class="card-subtitle mb-2 text-muted">{{address.phone}}</h6>
                              <p class="card-text">{{address.address}}<br>
                                {{address.city}}<br>
                                {{address.pincode}}<br>
                                {{address.state}}<br>
                              </p>
                            </div>
                        </div></label>
                        {% endfor %}
                        <button class="btn my-2 text-light" type="submit" style="width:100%; background:#1C3879;">Select Address</button> 

                    </form>
                    <hr>
                    <h5>Add New Address</h5>
                    <hr>
                    <form action="checkout" method="POST">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" name="name" id="name" placeholder="Enter your name">
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone</label>
                            <input type="text" class="form-control" name="phone" id="phone" placeholder="Enter your phone">
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <input type="text" class="form-control" name="address" id="address" placeholder="Enter your address">
                        </div>
                        <div class="form-group">
                            <label for="city">City</label>
                            <input type="text" class="form-control" name="city" id="city" placeholder="Enter your city">
                        </div>
                        <div class="form-group">
                            <label for="state">State</label>
                            <input type="text" class="form-control" name="state" id="state" placeholder="Enter your state">
                        </div>
                        <div class="form-group">
                            <label for="pincode">Pincode</label>
                            <input type="text" class="form-control" name="pincode" id="pincode" placeholder="Enter your pincode">
                        </div>
                        
                        <button class="btn my-2 text-light" type="submit" style="width:100%; background:#1C3879;">Add Address</button> 
                    </form> 
                    </div>
                </div>
            </div>
            
            <div class= "col-md-3">
                <div class="card">
                    <div class="card-header">
                        <h4>Price details</h4>
                    </div>
                    <div class="card-body">
                        <table class="table">
                            <tr>
                                <td>Subtotal</td>
                                {% if subtotal %}
                                <td>₹{{subtotal}}/-</td>
                                {% else %}
                                <td>₹{{price}}/-</td>
                                {% endif %}
                            </tr>
                            <tr>
                                <td>Shipping</td>
                                <td>Free</td>
                            </tr>
                            <tr>
                                <td>Total</td>
                                {% if total %}
                                <td>₹{{total}}/-</td>
                                {% else %}
                                <td>₹{{price}}/-</td>
                                {% endif %}
                            </tr>
                        </table>
                       
                    </div>
                </div>
        </div>
        
        
    </div>
    

</div>
{%endblock%}